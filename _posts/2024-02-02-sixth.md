---
layout: posts
title: Graphics
---
Graphics Pipeline

Application : 그리고 싶은 정점의 위치/색상 등을 입력
Geometry : 정점 단위의 처리, 정점의 위치 결정
Rasterization : 정점 단위로 구성된 삼각형을 픽셀 단위로 변경
Pixel : 픽셀 단위의 처리, 픽셀 색상의 결정

Application은 CPU에서 처리되고
나머지는 GPU에서 처리됨

Shader : 파이프라인 단계마다 GPU에서 실행되는 작은 프로그램
GLSL이라는 C언어 기반으로 작성됨 (GL Shading Language)

OpenGL Shader
- Vertex Shader
- Fragment Shader
미리 빌드한 후 로딩하는 SPIR-V 이용

Shader Code Loading
shader 파일을 읽고 object를 만들고 컴파일하기

Shader Class Design 셰이더 클래스 설계
- OpenGL shader object를 가지고있고
- 인스턴스가 생성될 때 로딩할 파일명을 입력받는다.
- 인스턴스 생성이 실패하면 메모리 할당 해제
- C++11 smart pointer 활용
- 생성자가 private인 이유 : CreateFromFile()함수 외에 다른방식의 인스턴스 생성을 막기위함
- Get()은 있는데 Set()은 없는 이유 : Shader 내부에서만 관리

Program Class Design

- Vertex shader, fragment shader를 연결한 pipeline program
- 두 shader를 입력받아 program을 링크한후 OpenGL program object 생성
- 실패하면 메모리 할당 해제

glCreateProgram() : OpenGL program object 생성
glAttachShader() : shader 붙이기
glLinkProgram() : 프로그램 링크

참고자료 : Rinthel Kwon Youtube